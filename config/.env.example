# =============================================================================
# ERP SaaS Cloud PRESSE v16 - Environment Configuration
# =============================================================================
# Copy this file to .env and update values for your environment
# NEVER commit .env to version control
# =============================================================================

# -----------------------------------------------------------------------------
# General Configuration
# -----------------------------------------------------------------------------
# Environment: development, staging, production
ENVIRONMENT=development

# Base domain for the platform
DOMAIN=platform.local
PRESS_SUBDOMAIN=press

# Timezone
TZ=Europe/Paris

# -----------------------------------------------------------------------------
# Container Naming (Constitution Constraint)
# -----------------------------------------------------------------------------
# All containers MUST use this prefix
CONTAINER_PREFIX=erp-saas-cloud-c16

# -----------------------------------------------------------------------------
# Port Configuration (Constitution Constraint: 32300-32500)
# -----------------------------------------------------------------------------
# Traefik
TRAEFIK_HTTP_PORT=32380
TRAEFIK_HTTPS_PORT=32443
TRAEFIK_DASHBOARD_PORT=32381

# Press Backend
PRESS_PORT=32300

# Database
MARIADB_PORT=32306

# Redis
REDIS_CACHE_PORT=32379
REDIS_QUEUE_PORT=32378

# MinIO
MINIO_API_PORT=32390
MINIO_CONSOLE_PORT=32391

# Monitoring
PROMETHEUS_PORT=32392
GRAFANA_PORT=32393
WAZUH_DASHBOARD_PORT=32394

# Docker Registry (if using local)
REGISTRY_PORT=32395

# Email (Mailhog for dev)
SMTP_PORT=32325
MAILHOG_UI_PORT=32326

# PowerDNS (optional)
POWERDNS_API_PORT=32353
POWERDNS_DNS_PORT=32353

# -----------------------------------------------------------------------------
# MariaDB Configuration
# -----------------------------------------------------------------------------
MARIADB_ROOT_PASSWORD=CHANGE_ME_ROOT_PASSWORD
MARIADB_DATABASE=press
MARIADB_USER=press
MARIADB_PASSWORD=CHANGE_ME_USER_PASSWORD
MARIADB_CHARACTER_SET=utf8mb4
MARIADB_COLLATION=utf8mb4_unicode_ci

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD

# -----------------------------------------------------------------------------
# MinIO Configuration
# -----------------------------------------------------------------------------
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=CHANGE_ME_MINIO_PASSWORD
MINIO_REGION=us-east-1

# MinIO Buckets
MINIO_BUCKET_FILES=erp-saas-cloud-c16-files
MINIO_BUCKET_BACKUPS=erp-saas-cloud-c16-backups
MINIO_BUCKET_PRIVATE=erp-saas-cloud-c16-private
MINIO_BUCKET_LOGS=erp-saas-cloud-c16-logs

# -----------------------------------------------------------------------------
# Frappe/Press Configuration
# -----------------------------------------------------------------------------
# Admin credentials for Press site
ADMIN_PASSWORD=CHANGE_ME_ADMIN_PASSWORD
ADMIN_EMAIL=admin@platform.local

# Frappe Framework settings
FRAPPE_BRANCH=develop
PRESS_BRANCH=develop

# Site configuration
SITE_NAME=press.platform.local

# Worker configuration
WORKER_CLASS=sync
GUNICORN_WORKERS=4

# -----------------------------------------------------------------------------
# Traefik/SSL Configuration
# -----------------------------------------------------------------------------
# For Let's Encrypt (production)
ACME_EMAIL=admin@example.com

# Certificate resolver: letsencrypt, letsencrypt-staging, local
CERT_RESOLVER=local

# -----------------------------------------------------------------------------
# Monitoring Configuration
# -----------------------------------------------------------------------------
# Grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_GRAFANA_PASSWORD

# Wazuh
WAZUH_MANAGER_PASSWORD=CHANGE_ME_WAZUH_PASSWORD

# Prometheus retention
PROMETHEUS_RETENTION_TIME=15d

# -----------------------------------------------------------------------------
# Docker/Podman Configuration
# -----------------------------------------------------------------------------
# Container runtime: docker, podman
CONTAINER_RUNTIME=docker

# Docker socket path
DOCKER_SOCKET=/var/run/docker.sock

# Network configuration
NETWORK_NAME=erp-saas-cloud-c16-network

# -----------------------------------------------------------------------------
# Development Settings
# -----------------------------------------------------------------------------
# Enable debug mode (NEVER in production)
DEBUG=false

# Enable developer mode for Frappe
DEVELOPER_MODE=true

# Hot reload
HOT_RELOAD=true

# -----------------------------------------------------------------------------
# Backup Configuration
# -----------------------------------------------------------------------------
# Backup schedule (cron format)
BACKUP_SCHEDULE="0 2 * * *"

# Backup retention (days)
BACKUP_RETENTION_DAYS=30

# -----------------------------------------------------------------------------
# Resource Limits
# -----------------------------------------------------------------------------
# Memory limits for containers
MARIADB_MEMORY_LIMIT=2g
REDIS_MEMORY_LIMIT=512m
PRESS_MEMORY_LIMIT=4g
MINIO_MEMORY_LIMIT=1g
